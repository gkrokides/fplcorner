{% extends 'fplcornerapp/base.html' %}

{% block head %}
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>	
	
	
{% endblock %}

{% block content %}
	Player 1:
      <select class="" name="player1" id="plrs1" onChange="changecat(this.value);">
          <option value="All1">All</option>
          {% for p in graph_data %}
            <option value="{{ p.webname }}">{{ p.web_name }}</option>
          {% endfor %}{% csrf_token %}
      </select>

	<canvas id="comparison"></canvas>
	<script type="text/javascript">
		var gdata = {{ test_data_json|safe }};
		new Chart(document.getElementById("comparison"), {
	    type: 'radar',
	    data: {
	      labels: ["Points", "Goals", "Threat", "Influence", "Creativity", "Assists"],
	      datasets: [
	        {
	          label: gdata[1]['web_name'],
	          fill: true,
	          backgroundColor: "rgba(41, 73, 233, 0.21)",
	          borderColor: "rgb(41, 73, 233)",
	          pointBorderColor: "#fff",
	          pointBackgroundColor: "rgba(179,181,198,1)",
	          // data: [8.77,55.61,21.69,6.62,6.82,9]
	          data: gdata[1]['data']
	        }, {
	          label: gdata[0]['web_name'],
	          fill: true,
	          backgroundColor: "rgba(255,99,132,0.2)",
	          borderColor: "rgba(255,99,132,1)",
	          pointBorderColor: "#fff",
	          pointBackgroundColor: "rgba(255,99,132,1)",
	          pointBorderColor: "#fff",
	          // data: [25.48,54.16,7.61,8.06,4.45,6]
	          data: gdata[0]['data']
	        }
	      ]
	    },
	    options: {
	      title: {
	        display: false,
	        text: 'Player Comparison'
	      },
	      scale: {
         ticks: {
            display: false,
            maxTicksLimit: 5
         }
      }
	    }
	});
	</script>
	{{ test_data_json }}
{% endblock %}
